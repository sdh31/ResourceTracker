<div class="panel panel-default" id="login">
	<div class="panel-body" style="text-align:center">
		<button type="button" class="btn btn-default btn-sm" ng-click='enableResourceViewPanel()'>View and Modify Resources</button><br>
		<button type="button" class="btn btn-default btn-sm" ng-click='enableResourceCreatePanel()'>Create a Resource</button>
	</div>
</div>

<div class="input-group panel panel-default" id="login" aria-describedby="sizing-addon3" ng-switch on="activeResourcePanel">
	<div class="panel-body">
		<div ng-switch-when="resourceViewPanel" ng-controller="ViewResourceCtrl">
			<h5>View and Modify Resources</h5>
			<select class="form-control" ng-model="selectedResource"
					 ng-change="saveOldResourceState()" ng-options="resource as resource.name for resource in allResources">
			</select>
			<div ng-show="isResourceSelected()">
				<input type="text" class="form-control" placeholder="name" ng-model="editingResource.name"><br>
				<textarea class="form-control" placeholder="description of resource" ng-model="editingResource.description"></textarea><br>
                Resource State:                
                <label>
                    <input type="radio" ng-model="editingResource.resource_state" value="free">
                    Free
                </label>
                <label>
                    <input type="radio" ng-model="editingResource.resource_state" value="restricted">
                    Restricted
                </label><br/>
				<input type="text" class="form-control" placeholder="tag" ng-model="currentTag">
				<div class="tags">
					<span ng-repeat="(index, tag) in editingResource.tags" class="tag">{{tag}}
						<a class="glyphicon glyphicon-remove glyph_top" aria-hidden="true" ng-click="removeTag(index)"></a>
					</span>
				</div>
				<button type="button" class="btn btn-default btn-sm" ng-click="addTag()">Add Tag</button>
				<button type="button" class="btn btn-default btn-sm" ng-click='revertEditing()'>Revert Editing</button> <br><br>
				<button type="button" class="btn btn-primary btn-md" ng-click='updateResource()'>Update Resource</button>
				<button type="button" class="btn btn-danger btn-md" ng-click='deleteResource()'>Delete Resource</button>
			</div>

	 	</div>
	 	<div ng-switch-when="resourceCreatePanel" ng-controller="CreateResourceCtrl">
 			<h5>Create a Resource</h5>
 			<form>
 				<fieldset class="form-group">
			 		<input type="text" class="form-control" placeholder="Name" ng-model="newResource.name">
				</fieldset>
				<fieldset class="form-group">
					<textarea class="form-control" placeholder="Description" ng-model="newResource.description"></textarea>
				</fieldset>
				<fieldset class="form-group">
					<label>Resource or Folder:</label>
					<label>
                    	<input type="radio" ng-model="newResource.is_folder" value="0"> Resource
                	</label>
                	<label>
                    	<input type="radio" ng-model="newResource.is_folder" value="1"> Folder
                	</label>
				</fieldset>
				<fieldset class="form-group">
                	<label>Resource State:</label>
                	<label>
                    	<input type="radio" ng-model="newResource.resource_state" value="free"> Free
                	</label>
                	<label>
                    	<input type="radio" ng-model="newResource.resource_state" value="restricted"> Restricted
                	</label>
                </fieldset>
                <fieldset class="form-group">
                	<label>Resource Sharing: </label>
                	<label>
                		<input type="radio" ng-model="unlimitedResource" ng-value="false"> Limited
                	</label>
                	<label>
                		<input type="radio" ng-model="unlimitedResource" ng-value="true"> Unlimited
                	</label>
                </fieldset>
                <fieldset class="form-group">
                	<input type="number" class="form-control" placeholder="Resource Sharing Level" ng-model="newResource.sharing_level" min="1" max="2147483647" ng-disabled="unlimitedResource">
           	 	</fieldset>
           	 	<fieldset class="form-group">
					<label>Select a Parent: </label>
					<input type="number" class="form-control" placeholder="Parent Resource ID" ng-model="newResource.parent_id"><br>
					<button type="button" class="btn btn-link" ng-click="addParent()">Add Parent</button>
				</fieldset>
           	 	<fieldset class="form-group">
					<input type="text" class="form-control" placeholder="Tag" ng-model="activeTag">
					<div class="tags">
						<span ng-repeat="(index, tag) in newResource.tags" class="tag">{{tag}}
							<a class="glyphicon glyphicon-remove glyph_top" aria-hidden="true" ng-click="removeCreateTag(index)"></a>
						</span>
					</div>
				</fieldset>
				<button type="button" class="btn btn-secondary btn-md" ng-click="addCreateTag()">Add Tag</button>
				<button type="button" class="btn btn-primary btn-md" ng-click="createResource()">Create</button>
			</form>
			<div modal-show="showAddParentModal.value" class="modal fade">
    			<ng-include src="'views/add_parent.html'" ng-if="showAddParentModal.value"></ng-include>
			</div>
	 	</div>
	 	
	 	<div class="alert alert-danger" ng-show="hasError.value">
			<strong>Warning:</strong> {{alertMessage.value}}
			<a class="glyphicon glyphicon-remove" aria-hidden="true" ng-click="clearError()"></a>
		</div>
		<div class="alert alert-success" ng-show="hasSuccess.value">
			<strong>Success:</strong> {{successMessage.value}}
			<a class="glyphicon glyphicon-remove" aria-hidden="true" ng-click="clearSuccess()"></a>
		</div>
	</div>
</div>






